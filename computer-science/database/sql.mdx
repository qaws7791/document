---
title: SQL
description: 이 문서는 SQL(Structured Query Language)에 대해 다룹니다.
---

## SQL의 배경

1970년대 IBM의 Ted Codd가 제안한 관계형 데이터베이스 모델을 기반으로 1974년 IBM에서 개발한 SEQUEL(Structured English Query Language)이 SQL의 원조입니다. 이후 1986년 ANSI에서 SQL 표준을 제정하였고, 1987년 ISO에서 SQL 표준을 제정하였습니다.


## 테이블

은행에서 테이블 예시

Account 테이블

| account_number | first_name | last_name | balance |
|----------------|------------|-----------|---------|
| 1001           | Alice      | Smith     | 1000    |
| 1002           | Bob        | Jones     | 2000    |
| 1003           | Charlie    | Brown     | 3000    |

Transaction 테이블

| transaction_id | account_number | amount | transaction_date |
|----------------|----------------|--------|------------------|
| 1              | 1001           | 100    | 2021-01-01       |
| 2              | 1002           | 200    | 2021-01-02       |
| 3              | 1003           | 300    | 2021-01-03       |


## 주요 용어


| 용어 | 설명 |
|------|------|
| 엔티티(Entity) | 데이터베이스에서 사용자가 관심을 갖는 모든 요소 |
| 데이터베이스(Database) | 데이터를 체계적으로 저장하고 관리하는 공간 |
| 테이블(Table) | 행(Row)과 열(Column)로 구성된 데이터가 저장되는 기본 단위 |
| 스키마(Schema) | 데이터베이스의 구조(테이블, 컬럼, 데이터 타입, 제약 조건 등)를 정의 |
| 열(Column) | 테이블의 속성 |
| 행(Row) | 테이블의 레코드 |
| 키(Key) | 테이블에서 행을 식별하는 열 |
| 기본 키(Primary Key) | 테이블에서 각 행을 고유하게 식별하는 열 |
| 외래 키(Foreign Key) | 다른 테이블의 Primary Key를 참조하는 열 |
| 복합 키(Compound Key) | 두 개 이상의 열을 조합하여 Primary Key를 만드는 방법 |
| 자연 키(Natural Key) | 비즈니스에서 사용하는 실제 값 |
| 대리 키(Surrogate Key) | 데이터베이스에서 생성하는 인위적인 값 |
| 인덱스(Index) | 테이블의 검색 성능을 향상시키기 위해 사용하는 데이터베이스 객체 |
| 정규화(Normalization) | 중복을 최소화하고 데이터 무결성을 보장하기 위한 데이터베이스 설계 기법 |
| 데이터 딕셔너리(Data Dictionary) | 데이터베이스의 메타 데이터 정보를 저장하는 시스템 테이블 |
| DDL(Data Definition Language) | 데이터베이스 객체(테이블, 인덱스, 뷰 등)를 정의하는 언어 |
| DML(Data Manipulation Language) | 데이터베이스 객체(테이블, 인덱스, 뷰 등)를 조작하는 언어 |
| DCL(Data Control Language) | 데이터베이스 객체(테이블, 인덱스, 뷰 등)에 대한 접근 권한을 제어하는 언어 |
| TCL(Transaction Control Language) | 데이터베이스 트랜잭션을 제어하는 언어 |
| 트랜잭션(Transaction) | 데이터베이스에서 수행하는 작업의 단위 |
| 커밋(Commit) | 트랜잭션의 작업을 영구적으로 반영하는 명령 |
| 롤백(Rollback) | 트랜잭션의 작업을 취소하는 명령 |
| 저장 프로시저(Stored Procedure) | 데이터베이스에 저장된 SQL 코드 블록 |
| 트리거(Trigger) | 특정 이벤트가 발생하면 자동으로 실행되는 SQL 코드 블록 |
| 조인(Join) | 두 개 이상의 테이블을 연결하여 하나의 결과 집합으로 반환하는 연산 |
| 서브쿼리(Subquery) | 다른 SQL 문장 안에 포함된 SQL 문장 |
| 뷰(View) | 하나 이상의 테이블을 기반으로 생성된 가상 테이블 |
| 샤딩(Sharding) | 대용량 데이터베이스를 분할하여 저장하는 기술 |
| 파티셔닝(Partitioning) | 대용량 데이터베이스를 논리적 또는 물리적으로 분할하여 저장하는 기술 |


## PostgreSQL 소개

PostgreSQL은 관계형 데이터베이스 관리 시스템(RDBMS)의 하나로, 오픈 소스이며 ACID 트랜잭션을 지원합니다. PostgreSQL은 ANSI SQL 표준을 준수하며, 다양한 데이터 타입, 인덱스, 제약 조건, 함수, 트리거, 뷰, 저장 프로시저 등을 제공합니다.

PostgreSQL은 1970년대 IBM의 Ted Codd가 제안한 관계형 데이터베이스 모델을 기반으로 1986년 UC Berkeley에서 개발되었습니다. PostgreSQL은 1996년 PostgreSQL로 이름이 변경되었으며, 현재는 PostgreSQL Global Development Group이 개발하고 있습니다.


## PostgreSQL 데이터 유형


### 숫자형


#### 정수형

| 데이터 유형 | 설명 | 저장 크기 | 범위 | 예시 |
|------------|------|----------|------|------|
| `SMALLINT` | 작은 정수 | 2바이트 | -32768 ~ 32767 | 100 |
| `INTEGER` | 정수 | 4바이트 | -2,147,483,648 ~ 2,147,483,647 | 1234567 |
| `BIGINT` | 큰 정수 | 8바이트 | -9,223,372,036,854,775,808 ~ 9,223,372,036,854,775,807 | 1234567890 |
| `SERIAL` | 자동 증가 정수 | 4바이트 | 1 ~ 2,147,483,647 | 1 |
| `BIGSERIAL` | 큰 자동 증가 정수 | 8바이트 | 1 ~ 9,223,372,036,854,775,807 | 1 |


#### 실수형

| 데이터 유형 | 설명 | 저장 크기 | 범위 | 예시 |
|------------|------|----------|------|------|
| `REAL` | 부동 소수점 | 4바이트 | 가변 | 123.45 |
| `DOUBLE PRECISION` | 더블 부동 소수점 | 8바이트 | 가변 | 123.45 |


#### 고정 소수점

| 데이터 유형 | 설명 | 저장 크기 | 범위 | 예시 |
|------------|------|----------|------|------|
| `DECIMAL` | 고정 소수점 | 가변 | 가변 | 123.45 |
| `NUMERIC` | 가변 소수점 | 가변 | 가변 | 123.45 |


### 화폐

| 데이터 유형 | 설명 | 저장 크기 | 범위 | 예시 |
|------------|------|----------|------|------|
| `MONEY` | 화폐 | 8바이트 | 가변 | $123.45 |


### 문자열

| 데이터 유형 | 설명 | 저장 크기 | 범위 | 예시 |
|------------|------|----------|------|------|
| `CHAR(n)` | 고정 길이 문자열 | n바이트 | 최대 255바이트 | 'abc' |
| `VARCHAR(n)` | 가변 길이 문자열 | 최대 n바이트 | 최대 65535바이트 | 'abc' |
| `TEXT` | 가변 길이 문자열 | 가변 | 가변 | 'abc' |


### 이진 데이터

| 데이터 유형 | 설명 | 저장 크기 | 범위 | 예시 |
|------------|------|----------|------|------|
| `BYTEA` | 이진 데이터 | 가변 | 가변 | 0x010203 |


### 날짜 및 시간

| 데이터 유형 | 설명 | 저장 크기 | 범위 | 예시 |
|------------|------|----------|------|------|
| `DATE` | 날짜 | 4바이트 | 4713 BC ~ 294276 AD | '2021-01-01' |
| `TIME` | 시간 | 8바이트 | 00:00:00 ~ 23:59:59 | '12:34:56' |
| `TIME WITH TIME ZONE` | 타임존을 고려한 시간 | 8바이트 | 00:00:00 ~ 23:59:59 | '12:34:56+09' |
| `TIMESTAMP` | 날짜 및 시간 | 8바이트 | 4713 BC ~ 294276 AD | '2021-01-01 12:34:56' |
| `TIMESTAMP WITH TIME ZONE` | 타임존을 고려한 날짜 및 시간 | 8바이트 | 4713 BC ~ 294276 AD | '2021-01-01 12:34:56+09' |
| `INTERVAL` | 시간 간격 | 12바이트 | 가변 | '1 day 2 hours 3 minutes 4 seconds' |


### 불리언

| 데이터 유형 | 설명 | 저장 크기 | 범위 | 예시 |
|------------|------|----------|------|------|
| `BOOLEAN` | 불리언 | 1바이트 | `TRUE`, `FALSE`, `NULL` | `TRUE` |


### 열거형

| 데이터 유형 | 설명 | 저장 크기 | 범위 | 예시 |
|------------|------|----------|------|------|
| `ENUM` | 열거형 | 4바이트 | 열거형 값 | 'A' |


### 지오메트리

| 데이터 유형 | 설명 | 저장 크기 | 범위 | 예시 |
|------------|------|----------|------|------|
| `POINT` | 점 | 16바이트 | 가변 | '(1, 2)' |
| `LINE` | 선 | 16바이트 | 가변 | '{1, 2}, {3, 4}' |
| `LSEG` | 선분 | 32바이트 | 가변 | '[(1, 2), (3, 4)]' |
| `BOX` | 박스 | 32바이트 | 가변 | '(1, 2), (3, 4)' |
| `PATH` | 닫힌 경로 | 16바이트 | 가변 | '((1, 2), (3, 4))' |
| `PATH` | 열린 경로 | 16바이트 | 가변 | '[(1, 2), (3, 4)]' |
| `POLYGON` | 다각형 | 40바이트 | 가변 | '((1, 2), (3, 4), (5, 6))' |
| `CIRCLE` | 원 | 24바이트 | 가변 | '<(1, 2), 3>' |

